# templates/print_payment_summary.html
print_payment_summary_html = r"""
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Payment Summary â€” {{ patient.full_name }}</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>@media print{ .no-print{display:none;} }</style>
</head>
<body class="p-4">
<div class="no-print mb-3 d-flex justify-content-between">
<a href="#" onclick="window.close();" class="btn btn-secondary">Close</a>
<button onclick="window.print()" class="btn btn-primary">Print</button>
</div>
<h4>ðŸ’° Payment Summary â€” {{ patient.full_name }}</h4>
<hr>
<table class="table w-50 table-bordered">
<tr><th>Total Fees (sum recorded)</th><td>Rs. {{ total_fee }}</td></tr>
<tr><th>Total Paid</th><td>Rs. {{ total_paid }}</td></tr>
<tr><th>Remaining</th><td>Rs. {{ remaining }}</td></tr>
</table>


<h6 class="mt-3">Detailed Payments</h6>
<table class="table table-bordered">
<thead><tr><th>Date</th><th>Treatment / Case</th><th>Fee</th><th>Paid</th><th>Remaining</th></tr></thead>
<tbody>
{% for p in payments %}
<tr>
<td>{{ p.date }}</td>
<td>{{ p.treatment.treatment_type if p.treatment else 'â€”' }}{% if p.treatment and p.treatment.case %} ({{ p.treatment.case.title }}){% endif %}</td>
<td>{{ p.treatment_fee }}</td>
<td>{{ p.amount_paid }}</td>
<td>{{ p.remaining_balance }}</td>
</tr>
{% endfor %}
</tbody>
</table>
</body>
</html>
"""