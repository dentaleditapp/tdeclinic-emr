{% extends "layout.html" %}
{% block content %}
<div class="container mt-3">

  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="text-primary">ğŸ” Patient Login Credentials</h4>
    <form method="get" class="d-flex" style="max-width: 300px;">
      <input type="text" name="q" value="{{ query }}" class="form-control me-2" placeholder="Search by File No...">
      <button class="btn btn-outline-primary">Search</button>
    </form>
  </div>

  <div class="alert alert-info small">
    <strong>Note:</strong> These are automatically generated credentials for each registered patient.
    Please ensure they are handed to the correct patient and not disclosed publicly.
  </div>

  <table class="table table-striped table-bordered align-middle">
    <thead class="table-dark text-center">
      <tr>
        <th>File No (Username)</th>
        <th>Temporary Password</th>
        <th>Role</th>
      </tr>
    </thead>
    <tbody class="text-center">
      {% for u in users %}
      <tr>
        <td class="fw-bold">{{ u.username }}</td>
        <td>{{ u.temporary_password or "N/A" }}</td>
        <td>{{ u.role | capitalize }}</td>
      </tr>
      {% else %}
      <tr>
        <td colspan="3" class="text-muted text-center">No patient logins found.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

</div>
{% endblock %}
